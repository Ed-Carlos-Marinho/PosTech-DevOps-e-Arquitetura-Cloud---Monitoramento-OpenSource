# =============================================================================
# JAEGER AGENT CONFIGURATION
# =============================================================================
# Configuração do Jaeger Agent para coleta local de traces
# Aula 05 - PosTech DevOps e Arquitetura Cloud - Monitoramento OpenSource
# Foco: Coleta eficiente de traces das aplicações distribuídas
# =============================================================================

# Configuração do reporter (envio para collector)
reporter:
  # Configuração gRPC para envio ao collector
  grpc:
    host-port: "JAEGER_COLLECTOR_IP:14250"
    
  # Configuração de batching
  batch-size: 100
  batch-timeout: 1s
  
  # Configuração de buffer
  queue-size: 1000
  
  # Configuração de retry
  max-packet-size: 65000

# Configuração de sampling
sampling:
  # Estratégias de sampling
  strategies-file: /etc/jaeger/sampling_strategies.json
  
  # Configuração padrão
  default-strategy:
    type: "probabilistic"
    param: 1.0  # 100% sampling para desenvolvimento

# Configuração de logging
logging:
  level: "info"
  
# Configuração de métricas
metrics:
  backend: "prometheus"
  http-route: "/metrics"

# =============================================================================
# ESTRATÉGIAS DE SAMPLING
# =============================================================================
# Arquivo: sampling_strategies.json
# {
#   "default_strategy": {
#     "type": "probabilistic",
#     "param": 1.0
#   },
#   "per_service_strategies": [
#     {
#       "service": "frontend-service",
#       "type": "probabilistic",
#       "param": 1.0,
#       "max_traces_per_second": 100
#     },
#     {
#       "service": "backend-service", 
#       "type": "probabilistic",
#       "param": 1.0,
#       "max_traces_per_second": 200
#     }
#   ]
# }
# =============================================================================